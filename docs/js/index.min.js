"use strict";var hamburgerIcon=document.querySelector(".hamburger-menu-link"),hamburgerMenu=document.querySelector(".hamburger-menu"),hamburgerMenuItem=document.querySelectorAll("#nav__item"),hamburgerCloseIcon=document.querySelector(".close"),hamburgerLogo=document.querySelector("#logo__link");hamburgerIcon.addEventListener("click",function(e){e.preventDefault(),hamburgerMenu.style.display="block",hamburgerIcon.style.display="none",document.body.style.overflow="hidden"});for(var i=0;i<hamburgerMenuItem.length;i++)hamburgerMenuItem[i].addEventListener("click",function(){hamburgerMenu.style.display="",hamburgerIcon.style.display="",document.body.style.overflow=""});hamburgerCloseIcon.addEventListener("click",function(){hamburgerMenu.style.display="",hamburgerIcon.style.display="",document.body.style.overflow=""}),hamburgerLogo.addEventListener("click",function(){hamburgerMenu.style.display="",hamburgerIcon.style.display="",document.body.style.overflow=""});var hAcco=document.querySelector(".menu"),hAccoItem=document.querySelectorAll(".h-accordeon__item"),trigger=document.querySelector(".h-accordeon__trigger"),triggerWidth=parseInt(getComputedStyle(trigger).width),hAccoContent=document.querySelectorAll(".h-accordeon__content");function adaptHAccoContent(e){var t=document.documentElement.clientWidth;t<=768&&480<t?hAccoItem[e].classList.contains("h-accordeon__item--active")?hAccoContent[e].style.width=t-triggerWidth*hAccoItem.length+"px":hAccoContent[e].style.width="":t<=480&&(hAccoItem[e].classList.contains("h-accordeon__item--active")?hAccoContent[e].style.width=t-triggerWidth+"px":hAccoContent[e].style.width="")}hAcco.addEventListener("click",function(e){for(var t=0;t<hAccoItem.length;t++)hAccoItem[t].classList.remove("h-accordeon__item--active"),adaptHAccoContent(t)});for(var _loop=function(n){hAccoItem[n].addEventListener("click",function(e){if(e.stopPropagation(),e.preventDefault(),hAccoItem[n].classList.contains("h-accordeon__item--active"))hAccoItem[n].classList.remove("h-accordeon__item--active"),adaptHAccoContent(n);else{for(var t=0;t<hAccoItem.length;t++)hAccoItem[t].classList.remove("h-accordeon__item--active"),adaptHAccoContent(t);hAccoItem[n].classList.add("h-accordeon__item--active"),adaptHAccoContent(n)}})},_i2=0;_i2<hAccoItem.length;_i2++)_loop(_i2);var vAcco=document.querySelector(".team"),vAccoItem=document.querySelectorAll(".v-accordeon__item");vAcco.addEventListener("click",function(e){for(var t=0;t<vAccoItem.length;t++)vAccoItem[t].classList.remove("v-accordeon__item--active")});for(var _loop2=function(n){vAccoItem[n].addEventListener("click",function(e){if(e.stopPropagation(),e.preventDefault(),vAccoItem[n].classList.contains("v-accordeon__item--active"))vAccoItem[n].classList.remove("v-accordeon__item--active");else{for(var t=0;t<vAccoItem.length;t++)vAccoItem[t].classList.remove("v-accordeon__item--active");vAccoItem[n].classList.add("v-accordeon__item--active")}})},_i4=0;_i4<vAccoItem.length;_i4++)_loop2(_i4);var feedbackItem=document.querySelectorAll(".feedback__item"),feedbackList=document.querySelector(".feedback__list"),template=document.createElement("div");template.innerHTML=document.querySelector("#overlayTemplate").innerHTML;var overlay=createOverlay(template);function createOverlay(e){var t=e,n=t.querySelector(".overlay"),o=t.querySelector(".overlay__content"),c=t.querySelector(".overlay__close"),r=o.querySelector(".overlay__name"),i=o.querySelector(".overlay__text");return n.addEventListener("click",function(e){e.target===n&&c.click()}),c.addEventListener("click",function(){document.body.removeChild(n),document.body.style.overflow=""}),{open:function(){document.body.appendChild(n)},close:function(){c.click()},setContent:function(e){r.innerHTML=e.querySelector(".feedback__subtitle").innerHTML,i.innerHTML=e.querySelector(".feedback__text").innerHTML}}}feedbackList.addEventListener("click",function(e){var t=e.target,n=t.parentNode.querySelector(".feedback__content");t.classList.contains("feedback__btn")&&(console.log(n),e.preventDefault(),overlay.open(),overlay.setContent(n),document.body.style.overflow="hidden")});var left=document.querySelector(".arrow-left"),right=document.querySelector(".arrow-right"),sliderList=document.querySelector(".slider__list"),sliderItemsArray=document.querySelectorAll(".slider__item"),sliderContainer=document.querySelector(".slider__container");sliderContainer.style.width=100*sliderItemsArray.length+"%";var step=100/sliderItemsArray.length,minRight=0,maxRight=step*(sliderItemsArray.length-1),currentRight=0;sliderList.style.right=currentRight,left.addEventListener("click",function(e){e.preventDefault(),minRight<currentRight?currentRight-=step:currentRight=maxRight,sliderList.style.right=currentRight+"%"}),right.addEventListener("click",function(e){e.preventDefault(),currentRight<maxRight?currentRight+=step:currentRight=minRight,sliderList.style.right=currentRight+"%"});var dropdown=document.querySelector(".ingredients__dropdown"),closeDropdown=document.querySelector(".close-dropdown"),ingredientsPicWrap=document.querySelector(".ingredients__pic-wrap"),screenWidth=document.documentElement.clientWidth;screenWidth<=768&&(ingredientsPicWrap.addEventListener("click",function(){dropdown.style.opacity="1",dropdown.style.zIndex="10",ingredientsPicWrap.style.backgroundColor="#e35028"}),closeDropdown.addEventListener("click",function(){dropdown.style.opacity="",dropdown.style.zIndex="",ingredientsPicWrap.style.backgroundColor=""}));var sections=$(".section"),mainContent=$(".main-content"),inScroll=!1,mobileDetect=new MobileDetect(window.navigator.userAgent),isMobile=mobileDetect.mobile(),asidePaginationActive=function(e){$(".pagination__item").eq(e).addClass("pagination__item--active").siblings().removeClass("pagination__item--active")},moveToPos=function(e){var t=100*-e+"%";if(!inScroll){sections.eq(e).addClass("active").siblings().removeClass("active"),mainContent.css({top:""+t}),asidePaginationActive(e);var n=1e3*parseInt(mainContent.css("transition-duration"));setTimeout(function(){inScroll=!1},n+300)}},scrollToSection=function(e){var t=sections.filter(".active"),n=t.next(),o=t.prev();"up"===e&&o.length&&moveToPos(o.index()),"down"===e&&n.length&&moveToPos(n.index())};$(document).on({wheel:function(e){var t=e.originalEvent.deltaY;scrollToSection(0<t?"down":"up")},keydown:function(e){switch(e.keyCode){case 40:case 34:scrollToSection("down");break;case 38:case 33:scrollToSection("up")}},touchmove:function(e){return e.preventDefault()}}),$("[data-scroll-to]").on("click",function(e){e.preventDefault();var t=$(e.currentTarget).data("scroll-to");moveToPos(t)}),isMobile&&$(function(){$(document).swipe({swipe:function(e,t,n,o,c,r){scrollToSection("down"===t?"up":"down")}})}),$("#form__elem").on("submit",function(e){e.preventDefault();var t=$(e.target),n=$(".popup"),o=$(".popup__content");ajaxForm(t).done(function(e){"OK"===e.status?(inScroll=!0,n.css({display:"flex"}),o.text("Сообщение отправлено"),t[0].reset()):(inScroll=!0,n.css({display:"flex"}),o.text("Произошла ошибка!"))}).fail(function(e,t){inScroll=!0,n.css({display:"flex"}),o.text("Произошла ошибка!")});$(".popup__close").on("click",function(e){e.preventDefault(),n.css({display:""}),inScroll=!1})});var ajaxForm=function(e){var t=e.serialize(),n=e.attr("method"),o=e.attr("action");return $.ajax({type:n,url:o,dataType:"JSON",data:t})};$(document).ready(function(){$("#phone").inputmask({mask:"+7 (999) 999-99-99"})});var input=document.getElementById("username"),value=input.value;function onInput(e){var t=e.target.value;t.match(/[^a-zA-Zа-яА-Я]/g)?input.value=value:value=t}input.addEventListener("input",onInput);
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):"undefined"!=typeof module&&module.exports?e(require("jquery")):e(jQuery)}(function(ae){var ue="left",se="right",ce="up",pe="down",fe="in",de="out",he="none",ge="auto",we="swipe",ve="pinch",Te="tap",be="doubletap",ye="longtap",me="horizontal",Ee="vertical",Se="all",xe=10,Oe="start",Me="move",De="end",Pe="cancel",Le="ontouchstart"in window,Re=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Le,ke=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Le,Ae="TouchSwipe";function i(e,d){d=ae.extend({},d);var t=Le||ke||!d.fallbackToMouseEvents,n=t?ke?Re?"MSPointerDown":"pointerdown":"touchstart":"mousedown",i=t?ke?Re?"MSPointerMove":"pointermove":"touchmove":"mousemove",r=t?ke?Re?"MSPointerUp":"pointerup":"touchend":"mouseup",l=t?ke?"mouseleave":null:"mouseleave",o=ke?Re?"MSPointerCancel":"pointercancel":"touchcancel",h=0,g=null,w=null,v=0,T=0,b=0,y=1,m=0,E=0,S=null,a=ae(e),x="start",O=0,M={},u=0,D=0,s=0,c=0,p=0,f=null,P=null;try{a.bind(n,L),a.bind(o,A)}catch(e){ae.error("events not supported "+n+","+o+" on jQuery.swipe")}function L(e){if(!0!==a.data(Ae+"_intouch")&&!(0<ae(e.target).closest(d.excludedElements,a).length)){var t=e.originalEvent?e.originalEvent:e;if(!t.pointerType||"mouse"!=t.pointerType||0!=d.fallbackToMouseEvents){var n,i,r=t.touches,l=r?r[0]:t;return x=Oe,r?O=r.length:!1!==d.preventDefaultEvents&&e.preventDefault(),E=w=g=null,y=1,m=b=T=v=h=0,(i={})[ue]=ne(ue),i[se]=ne(se),i[ce]=ne(ce),i[pe]=ne(pe),S=i,B(),$(0,l),!r||O===d.fingers||d.fingers===Se||F()?(u=oe(),2==O&&($(1,r[1]),T=b=re(M[0].start,M[1].start)),(d.swipeStatus||d.pinchStatus)&&(n=N(t,x))):n=!1,!1===n?(N(t,x=Pe),n):(d.hold&&(P=setTimeout(ae.proxy(function(){a.trigger("hold",[t.target]),d.hold&&(n=d.hold.call(a,t,t.target))},this),d.longTapThreshold)),K(!0),null)}}}function R(e){var t=e.originalEvent?e.originalEvent:e;if(x!==De&&x!==Pe&&!J()){var n,i,r,l,o,a,u,s=t.touches,c=ee(s?s[0]:t);if(D=oe(),s&&(O=s.length),d.hold&&clearTimeout(P),x=Me,2==O&&(0==T?($(1,s[1]),T=b=re(M[0].start,M[1].start)):(ee(s[1]),b=re(M[0].end,M[1].end),M[0].end,M[1].end,E=y<1?de:fe),y=(b/T*1).toFixed(2),m=Math.abs(T-b)),O===d.fingers||d.fingers===Se||!s||F()){if(g=le(c.start,c.end),function(e,t){if(!1===d.preventDefaultEvents)return;if(d.allowPageScroll===he)e.preventDefault();else{var n=d.allowPageScroll===ge;switch(t){case ue:(d.swipeLeft&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault();break;case se:(d.swipeRight&&n||!n&&d.allowPageScroll!=me)&&e.preventDefault();break;case ce:(d.swipeUp&&n||!n&&d.allowPageScroll!=Ee)&&e.preventDefault();break;case pe:(d.swipeDown&&n||!n&&d.allowPageScroll!=Ee)&&e.preventDefault()}}}(e,w=le(c.last,c.end)),a=c.start,u=c.end,h=Math.round(Math.sqrt(Math.pow(u.x-a.x,2)+Math.pow(u.y-a.y,2))),v=ie(),function(e,t){if(e==he)return;t=Math.max(t,te(e)),S[e].distance=t}(g,h),n=N(t,x),!d.triggerOnTouchEnd||d.triggerOnTouchLeave){var p=!0;if(d.triggerOnTouchLeave){var f={left:(o=(l=ae(l=this)).offset()).left,right:o.left+l.outerWidth(),top:o.top,bottom:o.top+l.outerHeight()};i=c.end,r=f,p=i.x>r.left&&i.x<r.right&&i.y>r.top&&i.y<r.bottom}!d.triggerOnTouchEnd&&p?x=j(Me):d.triggerOnTouchLeave&&!p&&(x=j(De)),x!=Pe&&x!=De||N(t,x)}}else N(t,x=Pe);!1===n&&N(t,x=Pe)}}function k(e){var t,n=e.originalEvent?e.originalEvent:e,i=n.touches;if(i){if(i.length&&!J())return t=n,s=oe(),c=t.touches.length+1,!0;if(i.length&&J())return!0}return J()&&(O=c),D=oe(),v=ie(),q()||!H()?N(n,x=Pe):d.triggerOnTouchEnd||!1===d.triggerOnTouchEnd&&x===Me?(!1!==d.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),N(n,x=De)):!d.triggerOnTouchEnd&&z()?_(n,x=De,Te):x===Me&&N(n,x=Pe),K(!1),null}function A(){b=T=u=D=O=0,y=1,B(),K(!1)}function I(e){var t=e.originalEvent?e.originalEvent:e;d.triggerOnTouchLeave&&N(t,x=j(De))}function U(){a.unbind(n,L),a.unbind(o,A),a.unbind(i,R),a.unbind(r,k),l&&a.unbind(l,I),K(!1)}function j(e){var t=e,n=Q(),i=H(),r=q();return!n||r?t=Pe:!i||e!=Me||d.triggerOnTouchEnd&&!d.triggerOnTouchLeave?!i&&e==De&&d.triggerOnTouchLeave&&(t=Pe):t=De,t}function N(e,t){var n,i=e.touches;return(X()&&Y()||Y())&&(n=_(e,t,we)),(C()&&F()||F())&&!1!==n&&(n=_(e,t,ve)),Z()&&G()&&!1!==n?n=_(e,t,be):v>d.longTapThreshold&&h<xe&&d.longTap&&!1!==n?n=_(e,t,ye):1!==O&&Le||!(isNaN(h)||h<d.threshold)||!z()||!1===n||(n=_(e,t,Te)),t===Pe&&A(),t===De&&(i&&i.length||A()),n}function _(e,t,n){var i;if(n==we){if(a.trigger("swipeStatus",[t,g||null,h||0,v||0,O,M,w]),d.swipeStatus&&!1===(i=d.swipeStatus.call(a,e,t,g||null,h||0,v||0,O,M,w)))return!1;if(t==De&&X()){if(clearTimeout(f),clearTimeout(P),a.trigger("swipe",[g,h,v,O,M,w]),d.swipe&&!1===(i=d.swipe.call(a,e,g,h,v,O,M,w)))return!1;switch(g){case ue:a.trigger("swipeLeft",[g,h,v,O,M,w]),d.swipeLeft&&(i=d.swipeLeft.call(a,e,g,h,v,O,M,w));break;case se:a.trigger("swipeRight",[g,h,v,O,M,w]),d.swipeRight&&(i=d.swipeRight.call(a,e,g,h,v,O,M,w));break;case ce:a.trigger("swipeUp",[g,h,v,O,M,w]),d.swipeUp&&(i=d.swipeUp.call(a,e,g,h,v,O,M,w));break;case pe:a.trigger("swipeDown",[g,h,v,O,M,w]),d.swipeDown&&(i=d.swipeDown.call(a,e,g,h,v,O,M,w))}}}if(n==ve){if(a.trigger("pinchStatus",[t,E||null,m||0,v||0,O,y,M]),d.pinchStatus&&!1===(i=d.pinchStatus.call(a,e,t,E||null,m||0,v||0,O,y,M)))return!1;if(t==De&&C())switch(E){case fe:a.trigger("pinchIn",[E||null,m||0,v||0,O,y,M]),d.pinchIn&&(i=d.pinchIn.call(a,e,E||null,m||0,v||0,O,y,M));break;case de:a.trigger("pinchOut",[E||null,m||0,v||0,O,y,M]),d.pinchOut&&(i=d.pinchOut.call(a,e,E||null,m||0,v||0,O,y,M))}}return n==Te?t!==Pe&&t!==De||(clearTimeout(f),clearTimeout(P),G()&&!Z()?(p=oe(),f=setTimeout(ae.proxy(function(){p=null,a.trigger("tap",[e.target]),d.tap&&(i=d.tap.call(a,e,e.target))},this),d.doubleTapThreshold)):(p=null,a.trigger("tap",[e.target]),d.tap&&(i=d.tap.call(a,e,e.target)))):n==be?t!==Pe&&t!==De||(clearTimeout(f),clearTimeout(P),p=null,a.trigger("doubletap",[e.target]),d.doubleTap&&(i=d.doubleTap.call(a,e,e.target))):n==ye&&(t!==Pe&&t!==De||(clearTimeout(f),p=null,a.trigger("longtap",[e.target]),d.longTap&&(i=d.longTap.call(a,e,e.target)))),i}function H(){var e=!0;return null!==d.threshold&&(e=h>=d.threshold),e}function q(){var e=!1;return null!==d.cancelThreshold&&null!==g&&(e=te(g)-h>=d.cancelThreshold),e}function Q(){return!d.maxTimeThreshold||!(v>=d.maxTimeThreshold)}function C(){var e=V(),t=W(),n=null===d.pinchThreshold||m>=d.pinchThreshold;return e&&t&&n}function F(){return!!(d.pinchStatus||d.pinchIn||d.pinchOut)}function X(){var e=Q(),t=H(),n=V(),i=W();return!q()&&i&&n&&t&&e}function Y(){return!!(d.swipe||d.swipeStatus||d.swipeLeft||d.swipeRight||d.swipeUp||d.swipeDown)}function V(){return O===d.fingers||d.fingers===Se||!Le}function W(){return 0!==M[0].end.x}function z(){return!!d.tap}function G(){return!!d.doubleTap}function Z(){if(null==p)return!1;var e=oe();return G()&&e-p<=d.doubleTapThreshold}function B(){c=s=0}function J(){var e=!1;s&&(oe()-s<=d.fingerReleaseThreshold&&(e=!0));return e}function K(e){a&&(!0===e?(a.bind(i,R),a.bind(r,k),l&&a.bind(l,I)):(a.unbind(i,R,!1),a.unbind(r,k,!1),l&&a.unbind(l,I,!1)),a.data(Ae+"_intouch",!0===e))}function $(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,M[e]=n}function ee(e){var t=void 0!==e.identifier?e.identifier:0,n=M[t]||null;return null===n&&(n=$(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function te(e){if(S[e])return S[e].distance}function ne(e){return{direction:e,distance:0}}function ie(){return D-u}function re(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function le(e,t){if(i=t,(n=e).x==i.x&&n.y==i.y)return he;var n,i,r,l,o,a,u,s,c=(l=t,o=(r=e).x-l.x,a=l.y-r.y,u=Math.atan2(a,o),(s=Math.round(180*u/Math.PI))<0&&(s=360-Math.abs(s)),s);return c<=45&&0<=c?ue:c<=360&&315<=c?ue:135<=c&&c<=225?se:45<c&&c<135?pe:ce}function oe(){return(new Date).getTime()}this.enable=function(){return this.disable(),a.bind(n,L),a.bind(o,A),a},this.disable=function(){return U(),a},this.destroy=function(){U(),a.data(Ae,null),a=null},this.option=function(e,t){if("object"===(void 0===e?"undefined":_typeof(e)))d=ae.extend(d,e);else if(void 0!==d[e]){if(void 0===t)return d[e];d[e]=t}else{if(!e)return d;ae.error("Option "+e+" does not exist on jQuery.swipe.options")}return null}}ae.fn.swipe=function(e){var t=ae(this),n=t.data(Ae);if(n&&"string"==typeof e){if(n[e])return n[e].apply(n,Array.prototype.slice.call(arguments,1));ae.error("Method "+e+" does not exist on jQuery.swipe")}else if(n&&"object"===(void 0===e?"undefined":_typeof(e)))n.option.apply(n,arguments);else if(!(n||"object"!==(void 0===e?"undefined":_typeof(e))&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=he);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n||(n={});return n=ae.extend({},ae.fn.swipe.defaults,n),this.each(function(){var e=ae(this),t=e.data(Ae);t||(t=new i(this,n),e.data(Ae,t))})}.apply(this,arguments);return t},ae.fn.swipe.version="1.6.18",ae.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},ae.fn.swipe.phases={PHASE_START:Oe,PHASE_MOVE:Me,PHASE_END:De,PHASE_CANCEL:Pe},ae.fn.swipe.directions={LEFT:ue,RIGHT:se,UP:ce,DOWN:pe,IN:fe,OUT:de},ae.fn.swipe.pageScroll={NONE:he,HORIZONTAL:me,VERTICAL:Ee,AUTO:ge},ae.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Se}});